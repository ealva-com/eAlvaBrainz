/*
 * Copyright (c) 2020  Eric A. Snell
 *
 * This file is part of eAlvaBrainz
 *
 * eAlvaBrainz is free software: you can redistribute it and/or modify it under the terms of the GNU
 * Lesser General Public License as published by the Free Software Foundation, either version 3 of
 *  the License, or (at your option) any later version.
 *
 * eAlvaBrainz is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
 * even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License along with eAlvaBrainz.
 * If not, see <http://www.gnu.org/licenses/>.
 */

package com.ealva.ealvabrainz.brainz.data

import com.ealva.ealvabrainz.brainz.data.Genre.Companion.NullGenre
import com.squareup.moshi.JsonClass
import kotlinx.parcelize.Parcelize

@JsonClass(generateAdapter = true)
public class Genre(
  /** This genre's MusicBrainz ID (MBID) */
  public val id: String = "",
  /** Genre name in lowercase */
  public val name: String = "",
  /**
   * See the [page about disambiguation](https://musicbrainz.org/doc/Disambiguation_Comment)
   * for more information
   */
  public val disambiguation: String = "",
  /** Number of votes for this genres applicability to the entity */
  public val count: Int = 0
) {

  public enum class Include(override val value: String) : Inc {
    Aliases("aliases"),
    Annotation("annotation"),
    Tags("tags")
  }

  override fun equals(other: Any?): Boolean {
    if (this === other) return true
    if (javaClass != other?.javaClass) return false

    other as Genre

    if (name != other.name) return false
    if (count != other.count) return false

    return true
  }

  override fun hashCode(): Int {
    var result = name.hashCode()
    result = 31 * result + count
    return result
  }

  public companion object {
    public val NullGenre: Genre = Genre(name = NullObject.NAME)
    public val fallbackMapping: Pair<String, Any> = Genre::class.java.name to NullGenre

    public val ALL_GENRES: Set<String>
      get() = allGenreSet
  }
}

public val Genre.isNullObject: Boolean
  get() = this === NullGenre

@Parcelize
@JvmInline
public value class GenreMbid(override val value: String) : Mbid

public inline val Genre.mbid: GenreMbid
  get() = GenreMbid(id)

/**
 * https://musicbrainz.org/genres
 *
 * Currently no API to retrieve this list.
 *
 * Last updated: 2020-04-01
 */
private val allGenreSet: Set<String> by lazy {
  setOf(
    "acid house",
    "acid jazz",
    "acid rock",
    "acid techno",
    "acoustic blues",
    "acoustic rock",
    "afoxê",
    "afrobeat",
    "alternative country",
    "alternative dance",
    "alternative folk",
    "alternative hip hop",
    "alternative metal",
    "alternative pop",
    "alternative punk",
    "alternative rock",
    "ambient",
    "ambient dub",
    "ambient house",
    "ambient techno",
    "americana",
    "anarcho-punk",
    "aor",
    "arena rock",
    "art pop",
    "art punk",
    "art rock",
    "atmospheric black metal",
    "audiobook",
    "avant-garde",
    "avant-garde jazz",
    "avant-garde metal",
    "avant-garde pop",
    "avant-prog",
    "bachata",
    "ballad",
    "barbershop",
    "bardcore",
    "baroque",
    "bass house",
    "beat music",
    "bebop",
    "bhangra",
    "big band",
    "big beat",
    "black metal",
    "blackened death metal",
    "blackgaze",
    "bleep techno",
    "blue-eyed soul",
    "bluegrass",
    "blues",
    "blues rock",
    "bolero",
    "bolero son",
    "bongo flava",
    "boogie rock",
    "boogie-woogie",
    "boom bap",
    "bossa nova",
    "bounce",
    "breakbeat",
    "breakbeat hardcore",
    "breakcore",
    "breaks",
    "britpop",
    "broken beat",
    "brostep",
    "brutal death metal",
    "bubblegum pop",
    "cajun",
    "calypso",
    "candombe",
    "canterbury scene",
    "cantopop",
    "carnatic classical",
    "celtic",
    "celtic punk",
    "chachachá",
    "chamber pop",
    "champeta",
    "changüí",
    "chanson",
    "chicago blues",
    "chillout",
    "chiptune",
    "chopped and screwed",
    "christian rock",
    "christmas music",
    "chutney",
    "city pop",
    "classic blues",
    "classic country",
    "classic jazz",
    "classic rock",
    "classical",
    "classical crossover",
    "cloud rap",
    "club",
    "comedy",
    "comedy rock",
    "compas",
    "complextro",
    "conscious hip hop",
    "contemporary christian",
    "contemporary classical",
    "contemporary folk",
    "contemporary gospel",
    "contemporary jazz",
    "contemporary r&b",
    "contra",
    "cool jazz",
    "country",
    "country blues",
    "country folk",
    "country pop",
    "country rock",
    "coupé-décalé",
    "cowpunk",
    "crossover prog",
    "crust punk",
    "cumbia",
    "cumbia villera",
    "cyberpunk",
    "d-beat",
    "dance",
    "dance-pop",
    "dance-punk",
    "dancehall",
    "dansband",
    "dark ambient",
    "dark electro",
    "dark folk",
    "dark jazz",
    "dark wave",
    "death metal",
    "death-doom metal",
    "deathcore",
    "deathgrind",
    "deathrock",
    "deep house",
    "delta blues",
    "depressive black metal",
    "descarga",
    "desert rock",
    "detroit techno",
    "digital hardcore",
    "disco",
    "djent",
    "doo-wop",
    "doom metal",
    "downtempo",
    "dream pop",
    "drill",
    "drill and bass",
    "drone",
    "drone metal",
    "drum and bass",
    "dub",
    "dub techno",
    "dubstep",
    "dungeon synth",
    "east coast hip hop",
    "ebm",
    "edm",
    "electric blues",
    "electro",
    "electro house",
    "electro swing",
    "electro-funk",
    "electro-industrial",
    "electroclash",
    "electronic",
    "electronic rock",
    "electronica",
    "electronicore",
    "electropop",
    "electropunk",
    "emo",
    "emo pop",
    "emo rap",
    "emocore",
    "enka",
    "ethereal",
    "euro house",
    "eurobeat",
    "eurodance",
    "europop",
    "exotica",
    "experimental",
    "experimental rock",
    "extratone",
    "fado",
    "fidget house",
    "filk",
    "flamenco",
    "folk",
    "folk metal",
    "folk pop",
    "folk punk",
    "folk rock",
    "folktronica",
    "footwork",
    "freak folk",
    "freakbeat",
    "free improvisation",
    "free jazz",
    "french house",
    "funk",
    "funk carioca",
    "funk metal",
    "funk rock",
    "funk soul",
    "funktronica",
    "funky house",
    "fusion",
    "future bass",
    "future garage",
    "future jazz",
    "futurepop",
    "g-funk",
    "gabber",
    "gagaku",
    "gangsta rap",
    "garage",
    "garage house",
    "garage punk",
    "garage rock",
    "ghetto house",
    "ghettotech",
    "glam",
    "glam metal",
    "glam rock",
    "glitch",
    "glitch hop",
    "glitch pop",
    "goa trance",
    "goregrind",
    "gospel",
    "gothic",
    "gothic country",
    "gothic metal",
    "gothic rock",
    "grebo",
    "grime",
    "grindcore",
    "groove metal",
    "group sounds",
    "grunge",
    "guaguancó",
    "guajira",
    "guaracha",
    "gypsy punk",
    "happy hardcore",
    "hard bop",
    "hard house",
    "hard rock",
    "hard trance",
    "hardbass",
    "hardcore hip hop",
    "hardcore punk",
    "hardcore techno",
    "hardstyle",
    "harsh noise",
    "harsh noise wall",
    "hauntology",
    "heavy metal",
    "heavy psych",
    "heavy rock",
    "hi-nrg",
    "hindustani classical",
    "hip hop",
    "hip house",
    "honky tonk",
    "hopepunk",
    "horror punk",
    "horrorcore",
    "house",
    "idm",
    "illbient",
    "indie",
    "indie folk",
    "indie pop",
    "indie rock",
    "indietronica",
    "indorock",
    "industrial",
    "industrial hip hop",
    "industrial metal",
    "industrial musical",
    "industrial rock",
    "industrial techno",
    "instrumental",
    "instrumental jazz",
    "instrumental rock",
    "irish folk",
    "italo-disco",
    "j-pop",
    "j-rock",
    "jazz",
    "jazz blues",
    "jazz fusion",
    "jazz rap",
    "jazz rock",
    "jazz-funk",
    "joik",
    "juke",
    "jungle",
    "k-pop",
    "kawaii metal",
    "kayōkyoku",
    "kizomba",
    "klezmer",
    "krautrock",
    "latin",
    "latin jazz",
    "latin pop",
    "latin rock",
    "leftfield",
    "line dance",
    "lo-fi",
    "lo-fi hip hop",
    "lounge",
    "lovers rock",
    "lowercase",
    "luk krung",
    "luk thung",
    "madchester",
    "mainstream rock",
    "maloya",
    "mambo",
    "mandopop",
    "martial industrial",
    "maskanda",
    "math rock",
    "mathcore",
    "medieval",
    "melodic black metal",
    "melodic death metal",
    "melodic metalcore",
    "melodic rock",
    "melodic trance",
    "mento",
    "merengue",
    "metal",
    "metalcore",
    "miami bass",
    "microhouse",
    "microsound",
    "milonga",
    "min'yō",
    "mincecore",
    "minimal",
    "minimal techno",
    "minimal wave",
    "modern blues",
    "modern classical",
    "modern country",
    "motown",
    "mpb",
    "musical",
    "musique concrète",
    "nature sounds",
    "neo soul",
    "neo-progressive rock",
    "neo-psychedelia",
    "neo-rockabilly",
    "neo-traditional country",
    "neofolk",
    "nerdcore",
    "neue deutsche härte",
    "neue deutsche welle",
    "neurofunk",
    "new age",
    "new jack swing",
    "new romantic",
    "new wave",
    "nightcore",
    "no wave",
    "noise",
    "noise pop",
    "noise rock",
    "noisecore",
    "non-music",
    "norteño",
    "northern soul",
    "nu disco",
    "nu jazz",
    "nu metal",
    "nueva canción",
    "occult rock",
    "oi",
    "old school death metal",
    "old-time",
    "onkyo",
    "opera",
    "orchestral",
    "outlaw country",
    "p-funk",
    "pachanga",
    "pagode",
    "phonk",
    "plunderphonics",
    "polka",
    "pop",
    "pop metal",
    "pop punk",
    "pop rap",
    "pop rock",
    "pop soul",
    "pornogrind",
    "post-bop",
    "post-classical",
    "post-grunge",
    "post-hardcore",
    "post-metal",
    "post-punk",
    "post-rock",
    "power electronics",
    "power metal",
    "power noise",
    "power pop",
    "powerviolence",
    "production music",
    "progressive",
    "progressive folk",
    "progressive house",
    "progressive metal",
    "progressive rock",
    "progressive trance",
    "psy-trance",
    "psychedelic",
    "psychedelic folk",
    "psychedelic pop",
    "psychedelic rock",
    "psychobilly",
    "psytrance",
    "punk",
    "punk rock",
    "qawwali",
    "queercore",
    "r&b",
    "ragga",
    "ragga hip-hop",
    "ragga jungle",
    "ragtime",
    "raï",
    "ranchera",
    "rap metal",
    "rap rock",
    "rapcore",
    "rave",
    "rebetiko",
    "red song",
    "reggae",
    "reggaeton",
    "rhythmic noise",
    "ritual ambient",
    "rock",
    "rock and roll",
    "rockabilly",
    "rocksteady",
    "romantic classical",
    "roots reggae",
    "rumba",
    "ryūkōka",
    "salegy",
    "salsa",
    "samba",
    "schlager",
    "schranz",
    "screamo",
    "shibuya-kei",
    "shoegaze",
    "singer-songwriter",
    "ska",
    "ska punk",
    "skacore",
    "slow waltz",
    "slowcore",
    "sludge metal",
    "smooth jazz",
    "smooth soul",
    "soca",
    "soft rock",
    "son cubano",
    "son montuno",
    "soul",
    "soul jazz",
    "southern rock",
    "southern soul",
    "space age pop",
    "space rock",
    "spectralism",
    "speed garage",
    "speed metal",
    "speedcore",
    "spoken word",
    "steampunk",
    "stoner metal",
    "stoner rock",
    "street punk",
    "surf rock",
    "swamp pop",
    "swamp rock",
    "swing",
    "symphonic black metal",
    "symphonic metal",
    "symphonic prog",
    "symphonic rock",
    "symphony",
    "synth-pop",
    "synthwave",
    "tango",
    "tech house",
    "tech trance",
    "technical death metal",
    "techno",
    "teen pop",
    "terrorcore",
    "thrash metal",
    "thrashcore",
    "timba",
    "traditional country",
    "trance",
    "trap",
    "trap edm",
    "tribal ambient",
    "tribal house",
    "trip hop",
    "tsapiky",
    "turntablism",
    "uk drill",
    "uk funky",
    "uk garage",
    "underground hip hop",
    "vallenato",
    "vaporwave",
    "vaudeville",
    "viking metal",
    "visual kei",
    "vocal house",
    "vocal jazz",
    "vocal trance",
    "waltz",
    "west coast hip hop",
    "west coast swing",
    "western swing",
    "witch house",
    "wonky",
    "yacht rock",
    "yé-yé",
    "zamrock",
    "zeuhl",
    "zouk",
    "zydeco",
  )
}
